<!DOCTYPE html>
<html lang="en" xmlns:th="http://www.thymeleaf.org">
<head>
	<div th:replace="common::head"></div>
	<link rel="stylesheet" href="./css/login.css">
</head>
<body>
<div class="container-fluid" >
	<div th:replace="common::header"></div>
	<div class="main baongoai">

		<div class="container">
			<h1 class="w3ls">Chỉnh sửa</h1>
			<div class="content-w3ls">

				<div class="row">
					<div class="col-md-6">
						<div class="content-agile1">
							<h2 class="agileits1"></h2>
							<p class="agileits2"></p>
						</div>
					</div>
					<div class="col-md-6">
						<div class="content-agile2">

							<!-- <form action="#" method="post"> -->
							<form class="login" th:action="@{/edituserpost}" th:object="${user}" method="post">
								<div th:if="${msgupdate}" class="alert-username">
									<span th:text="${msgupdate}" style="color: white;"></span>
								</div>

                                <div class="img-select-block margin-bottom-15" th:if="${user.getAvatar()}">
                                    <label>Ảnh đại diện</label><br/>
                                    <img id="preview-user-img" th:src="${user.getAvatar()}"/>
                                    <input type='file' id="input-select-img-user"/>
									<input type='hidden' id ="linkAvatar" th:field="*{avatar}"/>
                                </div>

								<div class="img-select-block margin-bottom-15" th:unless="${user.getAvatar()}">
									<label>Ảnh đại diện</label><br/>
									<img id="preview-user-img" th:src="@{/img/default.png}"/>
									<input type='file' id="input-select-img-user"/>
									<input type='hidden' id ="linkAvatar" th:field="*{avatar}"/>
								</div>
                                 <input type="hidden"  name="firstname" placeholder="Full Name" title="Please enter your First Name" required="" th:field="*{userId}">

								<div class="form-control2 w3layouts">
									<!-- <input type="text" id="firstname" name="firstname" placeholder="Full Name" title="Please enter your First Name" required=""> -->
									<input type="text" id="firstname" placeholder="Nhập họ tên" title="Please enter your First Name" name="name" required class="form-control" th:field="*{name}">
								</div>
								<div class="form-control2 w3layouts">
									<!-- <input type="text" id="username" name="username" placeholder="User Name" title="Please enter your User Name" required=""> -->
									<input type="text" id="username" placeholder="Nhập tài khoản" title="Please enter your User Name" name="username" required class="form-control" th:field="*{username}" >
								</div>
								<div class="form-control2 w3layouts">
									<!-- <input type="text" id="address" name="address" placeholder="Address" title="Please enter your Address" required=""> -->
									<input type="text"  id="address" placeholder="Nhập địa chỉ" name="address" title="Please enter your Address" required class="form-control" th:field="*{address}" >
								</div>

								<div class="form-control2 w3layouts">
									<!-- <input type="email" id="email" name="email" placeholder="mail@example.com" title="Please enter a valid email" required=""> -->
									<input type="email" id="email" placeholder="mail@example.com" title="Please enter a valid email" name="email" required class="form-control" th:field="*{email}" >
								</div>

								<div class="form-control2 agileinfo">
									<!-- <input type="password" class="lock" name="password" placeholder="Password" id="password1" required=""> -->
									<input type="password" class="lock" id="password1" placeholder="Nhập mật khẩu" name="password" required class="form-control" th:field="*{password}" >
								</div>

								<div class="form-control2 agileinfo">
									<!-- <input type="password" class="lock" name="confirm-password" placeholder="Confirm Password" id="password2" required=""> -->
									<input type="password" class="lock" placeholder="Nhập lại mật khẩu" id="password2" name="confirm-password" required class="form-control" >
								</div>

								<input type="submit" class="register" value="Lưu thông tin">
							</form>
						</div>
					</div>
				</div>

			</div>
		</div>

	</div>
	<div th:replace="common::footer"></div>
</div>
<script type="text/javascript">
    window.onload = function () {
        document.getElementById("password1").onchange = validatePassword;
        document.getElementById("password2").onchange = validatePassword;
    }
    function validatePassword(){
        var pass2=document.getElementById("password2").value;
        var pass1=document.getElementById("password1").value;
        if(pass1!=pass2)
            document.getElementById("password2").setCustomValidity("Mật khẩu không khớp");
        else
            document.getElementById("password2").setCustomValidity('');
    }

</script>

<script type="text/javascript">
    if (window.location.hash && window.location.hash == '#_=_') {
        if (window.history && history.pushState) {
            window.history.pushState("", document.title, window.location.pathname);
        } else {
            // Prevent scrolling by storing the page's current scroll offset
            var scroll = {
                top: document.body.scrollTop,
                left: document.body.scrollLeft
            };
            window.location.hash = '';
            // Restore the scroll offset, should be flicker free
            document.body.scrollTop = scroll.top;
            document.body.scrollLeft = scroll.left;
        }
    }
</script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/axios/0.18.0/axios.min.js"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/limonte-sweetalert2/7.9.0/sweetalert2.all.min.js"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/moment.js/2.20.1/moment.min.js"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/moment.js/2.20.1/locale/vi.js"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/bootstrap-datetimepicker/4.17.47/js/bootstrap-datetimepicker.min.js"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/nprogress/0.2.0/nprogress.min.js"></script>

<script type="text/javascript" th:src="@{./js/user.js}"></script>

</body>
</html>